<body>
    {% extends "base.html" %}
    {% block title %}Funcionário{% endblock %}
    {% block content %}

    {% set id = result.id_funcionario if result else '0' %}
    {% set nome = result.nome if result %}
    {% set matricula = result.matricula if result else '' %}
    {% set cpf = result.cpf if result else '' %}
    {% set telefone = result.telefone if result else '' %}
    {% set grupo = result.grupo if result else '' %}
    {% set senha = result.senha if result else '' %}


    <div class="container col-lg-4 col-md-6 col-sm-8 col-10 mt-2">
        <h2 class="titulo">{{ 'Editar funcionário' if result else 'Cadastrar funcionário' }}</h1>

        <form 
            name="{{ 'formEditar' if result else 'formAdicionar' }}"
            id="{{ 'formEditar' if result else 'formAdicionar' }}"
            action="{{ url_for('funcionario.edit') if result else url_for('funcionario.insert') }}" 
            method="POST">

            <div class="mb-3">
                <label for="id" class="form-label">Código</label>
                <input type="text" class="form-control" name="id" id="id" value="{{id}}" placeholder="" readonly>
            </div>

            <div class="mb-3">
                <label for="nome" class="form-label">Nome</label>
                <input type="text" class="form-control" id="nome" name="nome" value="{{nome}}"
                    placeholder="Digite o nome do funcionário" minlength="6" maxlength="100" required>
            </div>

            <div class="mb-3">
                <label for="matricula" class="form-label">Matrícula</label>
                <input type="text" class="form-control" id="matricula" name="matricula" value="{{matricula}}"
                    placeholder="Digite a matrícula" maxlength="15" required>
            </div>

            <div class="mb-3">
                <label for="cpf" class="form-label">CPF</label>
                <input type="text" class="form-control" id="cpf" name="cpf" value="{{cpf}}" placeholder="Digite o CPF"
                    maxlength="14" required>
            </div>

            <div class="mb-3">
                <label for="telefone" class="form-label">Telefone </label>
                <input type="text" class="form-control" id="telefone" name="telefone" value="{{telefone}}"
                    placeholder="Digite o telefone" maxlength="15" required>
            </div>

            <div class="mb-3">
                <label for="grupo" class="form-label">Grupo</label>
                <select class="form-select" name="grupo" id="grupo" aria-label="Default select example">
                    <option selected>Selecione o grupo</option>
                    {% for option, value in {'Atendente': 0, 'Caixa': 1, 'Adm': 2}.items() %}
                    <option value="{{ value }}" {{ 'selected' if grupo == value else '' }}>{{ option }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-3" class="form-label">
                <label for="senha" class="form-label">Senha</label>
                <input type="password" class="form-control" name="senha" id="senha" value="{{senha}}"
                    placeholder="Digite a senha" required>
            </div>
            <div class="mb-3" class="form-label">
                <label for="resenha" class="form-label">Confirmar senhar</label>
                <input type="password" class="form-control" name="resenha" id="resenha" value=""
                    placeholder="Digite a senha novamente" required>
            </div>

            <button type="submit" name="salvaUsuarioDB" id="salvaUsuarioDB" class="btn btn-primary">Cadastrar</button>

        </form>
    </div>
    {% endblock %}
</body>
